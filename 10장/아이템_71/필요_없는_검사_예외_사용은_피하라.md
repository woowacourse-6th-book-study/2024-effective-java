## 아이템71 | 필요 없는 검사 예외 사용은 피하라


## 검사 예외

- 발생한 문제를 프로그래머가 직접 처리하여 안정성을 높힘
- 과하게 사용하면 오히려 쓰기 불편한 API가 됌
- 검사 예외를 던지는 메서드는 스트림 안에서 직접 사용할 수 없음

<br>

## 메서드가 단 하나의 검사 예외만 던지는 경우

- 하나의 예외 때문에 try 블록 추가 해야함
- 스트림에서 직접 사용할 수 없음

→ 검사 예외를 던지지 않는 방법에 대해 고민해보자!

<br>

## 검사 예외를 회피하는 방법

## 1. 적절한 결과 타입을 담은 옵셔널 반환

- 검사 예외를 던지는 대신 빈 옵셔널을 반환하면 됌
- 다만 예외가 발생한 이유를 알려주는 부가 정보를 담을 수 없음
- ex) JpaRepository의 findById

<br>

## 2. 검사 예외를 던지는 메서드를 2개로 쪼개기

```java
try {
    obj.action(args);
} catch (TheCheckedException e) {
    ... // 예외 상황에 대처한다.
}
```

```java
if (obj.actionPermitted(args)) { 
    obj.action(args);
} else {
    ... // 예외 상황에 대처한다.
}
```

- 상태 검사를 통해 예외 상황을 분리

<br>

## 결론

- API 호출자가 예외 상황에서 복구할 방법이 없으면 비검사 예외를 던지자
- 웬만하면 검사 예외를 회피하는 방법이 있는지 고민해보자
